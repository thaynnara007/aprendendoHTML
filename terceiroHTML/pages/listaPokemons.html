<!DOCTYPE html>
<html ng-app="meusPokemons">
<head>
	<title>MeusPokemons</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="../../lib/bootstrap/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="estiloLista.css">

	<script src="../../lib/angular/angular.js"></script>
	<script type="text/javascript">

		var Pokemon = function(nome, tipo, level){

			this.nome = nome;
			this.tipo = tipo;
			this.level = level;
		}
		
		var lista = angular.module("meusPokemons",[]);
		lista.controller("meusPokemonsCtrl", function($scope){

			$scope.app = "Meus Pokemons";
			$scope.meusPokemons = [

				p1 = new Pokemon("Charmander", "Fogo", 5),
				p2 = new Pokemon("Squirtle", "Agua", 5),
				p3 = new Pokemon("Bulbassaur", "Planta", 5),
				p4 = new Pokemon("Pikachu", "Eletrico", 10),
				p5 = new Pokemon("Mew", "Psiquico", 100),
				p6 = new Pokemon("Articuno", "Gelo", 80)

			];

			$scope.naturezas=["Corajoso","Docil","Relaxado","Modesto","Quieto","Calmo","Gentil","Timido","Serio","Inocente"];

			$scope.adicionarPokemon = function(pokemon){

				$scope.meusPokemons.push(angular.copy(pokemon));

				delete $scope.pokemon;
			};

			$scope.removePokemon = function(pokemons){

				$scope.meusPokemons = pokemons.filter(function(pokemon){

					if (!pokemon.selecionado) {

						return pokemon;
					}
				});
			};

			$scope.temPokemonSelecionado = function(pokemons){

				var is = pokemons.some(function(pokemon){

					return pokemon.selecionado;
				});

				return (!is);
			}

		});

	</script> 
</head>
<body ng-controller="meusPokemonsCtrl">
	<div class="jumbotron">
		<h3>{{app}}</h3>
		<table class="table cor font-color">
			<tr class="a">
				<th>Remove</th>
				<th>Nome</th>
				<th>Tipo</th>
				<th>Level</th>
				<th>Natureza</th>
			</tr>
			<tr ng-class="{'selecionado negrito': pokemon.selecionado}" ng-repeat="pokemon in meusPokemons">
				
				<td><input type="checkbox" ng-model="pokemon.selecionado"></td>
				<td><a href="">{{pokemon.nome}}</a></td>
				<td><a href="">{{pokemon.tipo}}</a></td>
				<td><a href="">{{pokemon.level}}</a></td>
				<td><a href="">{{pokemon.natureza}}</a></td>
			</tr>
		</table>
		<br>
		<button class="btn btn-danger btn-block" ng-click="removePokemon(meusPokemons)" ng-disabled="temPokemonSelecionado(meusPokemons)">Remover</button>
		<hr>
		<div>
			<h4>Adicionar pokemon a equipe</h4>
			<br>
			<input type="text" ng-model="pokemon.nome" placeholder="Nome" class="form-control">
			<input type="text" ng-model="pokemon.tipo" placeholder="Tipo" class="form-control">
			<input type="text" ng-model="pokemon.level" placeholder="Level" class="form-control">
			<select ng-model="pokemon.natureza" ng-options="natureza for natureza in naturezas" class="form-control">
				<option value="">Selecione a natureza</option>
			</select>
			<button class="btn btn-primary btn-block" ng-disabled="(!pokemon.nome || !pokemon.tipo)" ng-click="adicionarPokemon(pokemon)">Adicionar</button>
		</div>
		<br>
		<button class="btn btn-block"><a href="../index.html">Voltar</a></button>
	</div> 
</body>
</html>